# ==========================================
# Travel Service - Complete Configuration Reference
# ==========================================
# Copy this file to .env.development or .env and configure as needed
# Most values have sensible defaults - only required vars need to be set

# ==========================================
# App Configuration
# ==========================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# ==========================================
# Database Configuration
# ==========================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=travel_db

# Database behavior (auto-detected based on NODE_ENV if not set)
# DATABASE_SYNCHRONIZE=false  # true in development, false in production
# DATABASE_LOGGING=false      # true in development, false in production

# ==========================================
# Redis Configuration
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=           # Optional

# ==========================================
# Cache Configuration
# ==========================================
CACHE_TTL=300              # seconds
CACHE_MAX=100              # max items

# ==========================================
# Queue Configuration
# ==========================================
QUEUE_CONCURRENCY=5        # number of concurrent jobs

# ==========================================
# Security & CORS
# ==========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
RATE_LIMIT_TTL=60          # seconds
RATE_LIMIT_MAX=100         # requests per TTL

# ==========================================
# JWT Authentication (REQUIRED)
# ==========================================
JWT_SECRET=your-secret-key-here-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-here
JWT_ISSUER=travel-service
JWT_AUDIENCE=travel-app
JWT_ACCESS_EXPIRATION=86400    # 1 day in seconds
JWT_REFRESH_EXPIRATION=604800  # 7 days in seconds

# ==========================================
# LLM Provider Configuration (REQUIRED)
# ==========================================
LLM_PROVIDER=openai
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_PROJECT_ID=        # Optional
# OPENAI_ORGANIZATION_ID=   # Optional

# ==========================================
# Google Maps API (Optional)
# ==========================================
# GOOGLE_MAPS_API_KEY=

# ==========================================
# Vector Search Configuration
# ==========================================
VECTOR_SEARCH_MODE=hnsw    # cosine or hnsw
VECTOR_HNSW_M=16           # max connections per layer
VECTOR_HNSW_EF_CONSTRUCTION=64

# ==========================================
# Context Builder Configuration
# ==========================================
CONTEXT_BUILDER_MAX_TOKENS=8000
CONTEXT_BUILDER_MESSAGE_LIMIT=30
CONTEXT_BUILDER_EMBEDDING_TOP_K=10
CONTEXT_BUILDER_EMBEDDING_THRESHOLD=0.7
CONTEXT_BUILDER_JOB_LIMIT=5
CONTEXT_BUILDER_LONG_MESSAGE_THRESHOLD=1000

# ==========================================
# Memory Compression Configuration
# ==========================================
MEMORY_COMPRESSION_ENABLED=true
MEMORY_COMPRESSION_ARCHIVE_THRESHOLD=1000
MEMORY_COMPRESSION_INACTIVE_PLAN_DAYS=30
MEMORY_COMPRESSION_DEFAULT_MODE=light  # light, aggressive, or full
MEMORY_COMPRESSION_MIN_EMBEDDINGS_THRESHOLD=50
MEMORY_COMPRESSION_PRESERVE_RECENT_COUNT=20
MEMORY_COMPRESSION_ACTIVE_CONVERSATION_DAYS=7
